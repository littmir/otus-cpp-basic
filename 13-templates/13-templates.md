# Шаблоны классов и функций

Парадигма **обобщенного** программирования - описание данных и алгоритмов можно применить к различным данным.

**Шаблоны** -  элемент языка С++, позволяющий писать код в парадигме обобщенного программирования.

```C++
template <typename T>
T func(T a, T b)
```
Вместо ключевого слова *typename* может быть *class*. Разницы нет.
```C++
template <class T>
T func(T a, T b)
```
## Специализация шаблона

Реализация функции для определенных типов, если она должна отличаться.
Специализация не может существовать без основного шаблона (Primary Template).

Ключевое слово template с пустыми угловыми скобками говорит о том, что это специализация.

```C++
template <>
const char * max<const char *>(const char *a, const char *b) { }
```

Специализация шаблонов не участвует в выборе перегруженной функции.

Специализация пишется под основным шаблоном.

Порядок объявления шаблонов и специализаций влияет на то, какая из функций будет выбрана.

Если в качестве типа передавать пользовательский тип, но у этого типа необходимо перегрузить все операторы, которые будут использоваться в шаблоне.

Шаблон можно запараметризировать числом. Т.е. он будет подставлять определенное число в код.

```C++
template <std::size_t n>
std::size_t factorial() {
  return n * factorial<n - 1>()
}

int main () {
  factorial<5>();
}
```

Генерация кода происходит во время компиляции, и компилятор заранее выполнит все вычисления.

Метапрограммирование - код, который пишем, генерирует другой код.

Можно использовать значения по умолчанию для параметризации шаблонов.

```C++
template <typename T = int, std::size_n n = 4>
std::size_t func() {
}

```

В шаблонном классе можно специализировать отдельно функции класса.

Класс может не быть шаблоном, но содержать шаблонный метод внутри.