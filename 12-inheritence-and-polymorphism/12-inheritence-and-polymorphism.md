# Наследование и полиморфизм

### ООП - это:
- абстрагирование
- инкапсуляция
- наследование
- полиморфизм

ООП необходим для ускорения и удешевления процесса разработки *сложных* продуктов.

**Абстракция** - это создание новых типов, отображение в коде вещей, процессов, существующих или нет в реальном мире. От объектов берутся только те характеристики, которые нужны для решения бизнес-задач (*struct/classes*).

**Инкапсуляция** - сокрытие деталей реализации (*private*).

**friend** - это уязвимость в устойчивости к изменениям.

*Объектно-ориентированное проектирование.*

### **Наследование**
**Наследование** даёт возможности по переиспользованию кода.

public наследование - это отношение "**является**".

С базовым классом можно работать только по указателю или по ссылке.

**Ромбовидное наследование** может возникнут из-за **множественного наследования**. Когда одинаковые поля двух классов протекают в класс-наследник. Нужно конкретно указывать, какую переменную или метод использовать указывая имя класса через двоеточие.

private наследование - отношение "**не является, а реализуется посредством**" Лучше реализовывать посредством **композиции** - создания внутри класса объекта другого класса.

### **Полиморфизм**

**Полиморфизм** реализуется через наследование, одновременно с этим использует принцип абстракции и инкапсуляции.

Перегрузка не является полиморфизмом.

В языке С++ индексация в массивах работает за счет знания того, что размер элементов одинаковый:
```C++
int array[10] = {1, 2, 3, 4};
int a = array[3];
a = *(&(array[0] + 3 * sizeof(int)))
```

Размер указателя всегда одинаковый - 8 байт на 64-битных платформах. Таким образом можно хранить в одном массиве указатели на разные объекты.

```C++
virtual void draw() const {} // виртуальная функция (метод)

virtual void draw() const = 0; // чисто виртуальная функция
```

Вызовы виртуальных функций более дорогие, чем вызовы обычных функций.

Как только в классе появляется чисто **виртуальная функция**, класс становится **абстрактным** и объект такого типа будет запрещено создать.

Для того, чтобы сработал полиморфизм сигнатуры методов должны совпадать полностью.

Ключевое слово **override** - заявляет компилятору, что метод должен переопределять какой-то виртуальный метод базового класса. Если никакой метод не будет переопределен, то выдаст ошибку компиляции. Для самопроверки.